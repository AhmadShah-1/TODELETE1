{% extends "base.html" %}

{% block title %}{% if contact %}Edit {{ contact.full_name }}{% else %}Add New Contact{% endif %} - Mini CRM{% endblock %}

{% block content %}
<div class="card">
    <h2>{% if contact %}Edit Contact{% else %}Add New Contact{% endif %}</h2>
    <p style="color: #7f8c8d; margin-bottom: 1rem;">Firm: <a href="{{ url_for('firm_detail', firm_id=firm.id) }}">{{ firm.name }}</a></p>
    
    <form method="POST">
        <div class="form-group">
            <label for="first_name">First Name *</label>
            <input type="text" id="first_name" name="first_name" required value="{{ contact.first_name if contact else '' }}">
        </div>
        
        <div class="form-group">
            <label for="last_name">Last Name *</label>
            <input type="text" id="last_name" name="last_name" required value="{{ contact.last_name if contact else '' }}">
        </div>
        
        <div class="form-group">
            <label for="position">Position</label>
            <input type="text" id="position" name="position" value="{{ contact.position if contact else '' }}">
        </div>
        
        <div class="form-group">
            <label for="email">Email</label>
            <input type="email" id="email" name="email" value="{{ contact.email if contact else '' }}">
        </div>
        
        <div class="form-group">
            <label for="phone">Phone</label>
            <input type="tel" id="phone" name="phone" value="{{ contact.phone if contact else '' }}">
        </div>
        
        <div style="display: flex; gap: 0.5rem;">
            <button type="submit" class="btn btn-success">{% if contact %}Update{% else %}Create{% endif %} Contact</button>
            <a href="{% if contact %}{{ url_for('contact_detail', contact_id=contact.id) }}{% else %}{{ url_for('firm_detail', firm_id=firm.id) }}{% endif %}" class="btn btn-secondary">Cancel</a>
        </div>
    </form>
</div>
{% endblock %}
